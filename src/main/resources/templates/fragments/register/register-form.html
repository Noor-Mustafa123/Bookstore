<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Bookstore Fragment: main-content</title>
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>
<!--/*@thymesVar id="registerRequestDTO" type="com.simple.Bookstore.Auth.RegisterRequestDTO"*/-->
<!--/*@thymesVar id="usedCustomDisplayName" type="java.lang.Boolean"*/-->

<div id="register-form-div" th:fragment="register-form">
    <form class="profile-details" method="post" th:action="@{/register}" th:object="${registerRequestDTO}">
        <label th:for="${#ids.next('username')}" title="required">Username<span class="required">*</span>:</label>
        <input maxlength="20" minlength="3" pattern="^[a-zA-Z0-9_.-]*$"
               required th:field="*{username}"
               title="Between 3 to 20 alphanumeric characters (including _ . -)"
               type="text">
        <span class="error-message" th:errors="*{username}" th:if="${#fields.hasErrors('username')}"></span>

        <label th:for="${#ids.next('password')}" title="required">Password<span class="required">*</span>:</label>
        <input pattern="^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#&()–[{}]:;',?/*~$^+=<>]).{8,30}$"
               required th:field="*{password}"
               title="Password must be between 8 and 30 characters, and must contain at least one digit, one lowercase letter, one uppercase letter, and one special character"
               type="password">
        <span class="error-message" th:errors="*{password}" th:if="${#fields.hasErrors('password')}"></span>

        <label th:for="${#ids.next('confirmPassword')}" title="required">(again)<span class="required">*</span>:</label>
        <input pattern="^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#&()–[{}]:;',?/*~$^+=<>]).{8,30}$"
               required th:field="*{confirmPassword}"
               title="Confirm Password" type="password">
        <span class="error-message" th:errors="*{confirmPassword}" th:if="${#fields.hasErrors('confirmPassword')}"></span>

        <label th:for="${#ids.next('isPublic')}"
               title="Make your profile public and searchable by others">Public Profile:</label>
        <input class="profile-details-checkbox"
               th:field="*{isPublic}"
               type="checkbox">

        <label for="usedCustomDisplayName" title="">Custom Display Name:</label>
        <input class="profile-details-checkbox show-hidden-trigger"
               id="usedCustomDisplayName" name="usedCustomDisplayName"
               th:checked="${usedCustomDisplayName}"
               type="checkbox">

        <input maxlength="50" minlength="1"
           th:field="*{displayName}"
           type="text">
        <span class="error-message" th:errors="*{displayName}" th:if="${#fields.hasErrors('displayName')}"></span>

        <button class="profile-details-submit-button" type="submit">Confirm & Create Account</button>
    </form>
    <script th:src="@{/js/sync-input-fields.js}"></script>
</div>

</body>
</html>
